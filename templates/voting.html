<!--
  Copyright 2018 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE html>
<html>
  <head>
      <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">
<!-- Link to teamselect.css-->
    <link rel="stylesheet" type="text/css" href="CSS/voting.css">
<link href="https://fonts.googleapis.com/css?family=Heebo|Montserrat" rel="stylesheet">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Team A</title>
  </head>
  <body style="padding-right:5%; padding-left:5%;">
    <div class=" hoverable">
    <p id='Question'>Who will you vote for?</p>
  </div>
    <div class="split left">
      <div class="valign center centered">
          <button id='btna2' class="waves-effect waves-light btn-large" type="submit" onclick="addvote(1)">{{ option_1 }}</button>
      </div>
    </div>
    <div class="split right">
    <div class="valign center centered">
        <button id='btna' class="waves-effect waves-light btn-large" type="submit" onclick="addvote(2)">{{ option_2 }}</button>
    </div>
  </div>
    <script>
      function getCookie(name) {
          var value = "; " + document.cookie;
          var parts = value.split("; " + name + "=");
          if (parts.length == 2) return parts.pop().split(";").shift();
        }
      function addvote(inputnumber) {
          sessid = getCookie("sessionid")
          var xmlHttp = new XMLHttpRequest();
          xmlHttp.onreadystatechange = function () {
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
              if (xmlHttp.responseText == "True") {
                window.location.replace("/wait")
                return true;
              } else {
                return false;
              }
          }
          xmlHttp.open("GET", "/givevote?session_id=" + encodeURIComponent(sessid)+"&option=" +inputnumber, true); 
          // true for asynchronous 
          xmlHttp.send(sessid);
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
  </body>
</html>
