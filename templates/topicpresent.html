<!--
  Copyright 2018 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE html>
<html>
  <head>
      <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">
<link rel="stylesheet" href="CSS/topicpresent.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Debater</title>
    <!--<link rel="stylesheet" type="text/css" href="app-stylesheets/boring-style.css">-->
  </head>
  <body style="padding-right:5%; padding-left:5%;">
  <!-- s12 m5-->
  <div id= 'text' class=" container cyan center-align">
    <div class="row center-align">
      <div class="col s12 center-align">
        <div class="card center-align hoverable activator">
          <div class="card-content activator pink lighten-1">
            <span class="card-title activator white-text text-darken-4">Your topic & stance
            </span>
            <b>{{ topic }}</b><br>
            <p><a href="#" style="font-size: 20px; color: white;" class="activator">Click to reveal stance</a></p> 
          </div>
          <div class="card-reveal">
            <span class="card-title grey-text text-darken-4"> <div class="left">Stance</div> 
              <i class="material-icons right">close</i>
            </span> <br>
            <b style="color: black; font-size: 60px;">{{ stance }}</b>
          </div>
        </div>
      </div>
    </div>
  <form class="" action="/mintimer" method="get">
      <button class="btn waves-effect waves-light pink lighten-3 hoverable" type="submit" name="action" onclick = "starttime()">Go!
      <i class="material-icons right">send</i>
    </button>
    </form>
  </div>
  <script>
    function starttime() {
        var sessid = getCookie("sessionid");
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.onreadystatechange = function () {
          if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            if (xmlHttp.responseText != "False") {
              countdown(xmlHttp.responseText);
              return true;
            } else {
              console.log("failed; ID not found")
              return false;
            }
        }
        xmlHttp.open("GET", "/sync?sessid=" + encodeURIComponent(sessid), true); // true for asynchronous 
        xmlHttp.send(sessid);
      }
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
  </body>
</html>
